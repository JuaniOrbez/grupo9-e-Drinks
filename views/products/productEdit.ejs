<!DOCTYPE html>
<html lang="en">
    <%- include('../partials/head', {title: 'Editando: ' + product.name}) %> 
<body>
    <%- include('../partials/header')%> 

    <main>
        <div class="contenedor">
            <h2>Editando <%= product.name %></h2>
            <form action="/products/<%= product.id %>/edit?_method=PUT" method="POST" enctype="multipart/form-data" class="f-registro">
                <div>
                    <label>Nombre del producto</label>
                    <input type="text" name="name" id="name" value= "<%= product.name %>" class="barra formElement">
                    <p id="errorname" class="error"></p>
                    <% if (locals.errors && errors.name) { %>
                        <div id="backErrorname" class="error">
                            <%= errors.name.msg %>
                        </div>
                        <% } %>
                </div>
                <div>
                    <label>Descripcion</label>
                    <textarea type=text name="description" id="description" class="barra formElement" placeholder= "Descripcion"><%= product.description %></textarea>
                    <p id="errordescription" class="error"></p>
                    <% if (locals.errors && errors.description) { %>
                        <div id="backErrorname" class="error">
                            <%= errors.description.msg %>
                        </div>
                        <% } %>
                </div>
                <div>
                    <img src="/images/<%= product.image %>" style="width:100px">
                    <label>Imagen del producto</label>
                    <input type="file" name="image" id="image" class="barra formElement">
                    <p id="errorimage" class="error"></p>
                    <% if (locals.errors && errors.image) { %>
                        <div id="backErrorname" class="error">
                            <%= errors.image.msg %>
                        </div>
                        <% } %>
                </div>
                <div>
                    <label for="category_id">Categoría</label>
                    <select name="category_id" id="category_id" placeholder="Categoría" class= "barra formElement">
                        <option value="1">Whiskys</option>
                        <option value="2">Espumantes</option>
                        <option value="3">Cervezas</option>
                        <option value="4">Gins</option>
                        <option value="5">Vinos</option>
                        <option value="6">Licores</option>
                    </select>
                    <p id="errorcategory" class="error"></p>
                </div>
                <div>
                    <label>Proporción (ML)</label>
                    <input type="text" name="size" value=<%=product.size%> class="barra formElement" placeholder="Proporción" id="proportion">
                    <p id="errorproportion" class="error"></p>
                    </div>
                <div>
                    <label>Precio ($)</label>
                    <input type="text" name="price" value=<%=product.price%> class="barra formElement" placeholder="Precio" id="price">
                    <p id="errorprice" class="error"></p>
                </div>
                
                <div>
                    <label for="in_offer">En Oferta</label>
                    <select name="in_offer" id="in_offer" class="barra formElement">
                        <option value="1">Si</option>
                        <option value="0">No</option>
                    </select>
                    <p id="errorinOffer" class="error"></p>
                </div>
                <div>
                    <label for="in_home">Publicar en home</label>
                    <select name="in_home" id="in_home" class="barra formElement">
                        <option value="1">Si</option>
                        <option value="0">No</option>
                    </select>
                    <p id="errorinHome" class="error"></p>
                </div>
                <button type="submit" class="enviar">Guardar cambios</button>
            </form>
            <form action="/products/<%=product.id%>/delete?_method=DELETE" method="POST" class="f-registro">
                <button type="submit" class="borrar">Borrar producto</button>
            </form>
           
        </div>
    
    </main>
    
    <%- include('../partials/footer')%> 
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script type="text/javascript" src="/js/productEditValidation.js"></script>
</body>
</html>