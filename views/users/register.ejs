<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head')%>

    <body>
        <%- include('../partials/header')%>

            <main>
                <div class="contenedor">
                    <h2>Registrate</h2>

                    

                    <form action="/users/register" method="POST" enctype="multipart/form-data" class="f-registro">
                        <div>
                            <label>Nombre</label>
                            <input type="text" placeholder="nombre" name="first_name" class="barra formElement" id="name"
                                value="<%= locals.oldData ? oldData.first_name : null %>">

                                <p id="errorname" class="error"></p>

                            <% if (locals.errors && errors.first_name) { %>
                                <div id="backErrorname" class="error">
                                    <%= errors.first_name.msg %>
                                </div>
                                <% } %>
                        </div>
                        <div>
                            <label>Apellido</label>
                            <input type="text" placeholder="apellido" name="last_name" class="barra formElement" id="last_name"
                                value="<%= locals.oldData ? oldData.last_name : null %>">

                                <p id="errorlast_name" class="error"></p>

                            <% if (locals.errors && errors.last_name) { %>
                                <div id="backErrorlast_name" class="error">
                                    <%= errors.last_name.msg %>
                                </div>
                                <% } %>
                        </div>
                        <div>
                            <label>Email</label>
                            <input type="email" placeholder="email" name="email" class="barra formElement" id="email"
                                value="<%= locals.oldData ? oldData.email : null %>">

                                <p id="erroremail" class="error"></p>

                            <% if (locals.errors && errors.email) { %>
                                <div id="backErroremail" class="error">
                                    <%= errors.email.msg %>
                                </div>
                                <% } %>
                        </div>
                        <div>
                            <label>Contraseña</label>
                            <input type="password" placeholder="contraseña" name="password" class="barra formElement" id="password">

                            <p id="errorpassword" class="error"></p>

                            <% if (locals.errors && errors.password) { %>
                                <div id="backErrorpassword" class="error">
                                    <%= errors.password.msg %>
                                </div>
                                <% } %>
                        </div>
                        <div>
                            <label for="category_id">Categoría</label>
                            <label><input type="radio" name="category_id" value="1">Usuario</label>
                            <label><input type="radio" name="category_id" value="2">Administrador</label>
                            <% if (locals.errors && errors.category_id) { %>
                                <div id="backErrorcategory_id" class="error">
                                    <%= errors.category_id.msg %>
                                </div>
                                <% } %>
                        </div>
                        <div>
                            <label for="image">Imagen de Usuario</label>
                            <input type="file" name="image" id="image" class="barra formElement">

                            <p id="errorimage" class="error"></p>

                            <% if (locals.errors && errors.image) { %>
                                <div id="backErrorimage" class="error">
                                    <%= errors.image.msg %>
                                </div>
                                <% } %>
                        </div>
                        <div>
                            <label>¿Sos mayor de edad?</label>
                            <label><input type="radio" name="age" value="YES">Si</label>
                            <label><input type="radio" name="age" value="NO">No</label>
                            <% if (locals.errors && errors.age) { %>
                                <div id="backErrorage"class="error">
                                    <%= errors.age.msg %>
                                </div>
                                <% } %>
                        </div>


                        <p>Al crear una cuenta estás aceptando los términos y condiciones y la política de privacidad.
                        </p>

                        <button type="submit" class="enviar">Registrarse</button>

                        <p>¿Ya tenes cuenta? <a href="./login">Iniciar sesión</a></p>

                    </form>
                </div>

            </main>

            
            <script type="text/javascript" src="/js/userRegisterValidation.js"></script>

            <%- include('../partials/footer')%>
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
                    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
                    crossorigin="anonymous"></script>
                <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
                    integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
                    crossorigin="anonymous"></script>
                <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
                    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
                    crossorigin="anonymous"></script>
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
                    integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
                    crossorigin="anonymous"></script>
               
    </body>

</html>